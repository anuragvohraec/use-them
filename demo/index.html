<!doctype html>
<html lang="en-GB">
<head>
  <meta charset="utf-8">
  <style>
    html,body{
      margin: 0px;
    }
    body {
      background: #fafafa;
    }
  </style>
</head>
<body>
  <div id="demo"></div>

  <script type="module">
    import { html, render } from 'lit-html';
    import {ThemeProvider, Theme, ProgressBloc, ProgressBarBuilder} from '../dist/index.js';
    

    //theme 
    class MyAppThemeProvider extends ThemeProvider{
      constructor(){
        super((()=>{
          let theme = new Theme();
          theme.primaryColor = "#ff2052";
          theme.secondaryColor = "#4e00ec";
          theme.backgroundColor = "#ededed";
          return theme;
        })());
      }
    }

    customElements.define("my-app-theme",MyAppThemeProvider);
    
    //progress bar example
    class VideoCompressBloc extends ProgressBloc{
      constructor(){
        super();
        this.count = 0;
      }
      start(){
        //actual video compression logic can be started here with a service worker
        let s = 0;
        s = setInterval(()=>{
          this.updateProgress(this.count++);
          if(this.completed){
            clearInterval(s);
          }
        },100);
      }
    }

    class VideoCompressProgressBar extends ProgressBarBuilder{
      constructor(){
        super((()=>{
          let vc = new VideoCompressBloc();
          //here you can pass say file path to video file to bloc
          vc.start();
          return vc;
        })());
      }
    }

    customElements.define("video-compressor", VideoCompressProgressBar)

    render(
      html`
        <my-app-theme>
          <ut-scaffold>
            <h1 slot="title" style="color: white;">MyApp</h1>
            <div slot="body">
                <video-compressor></video-compressor>
                <video-compressor use="primaryColor: #107fdf; backgroundColor: #df10dc"></video-compressor>
            </div>
          </ut-scaffold>
        </my-app-theme>
      `,
      document.querySelector('#demo')
    );
  </script>
</body>
</html>
