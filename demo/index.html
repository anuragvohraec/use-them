<!doctype html>
<html lang="en-GB">
<head>
  <meta charset="utf-8">
  <style>
    html,body{
      margin: 0px;
    }
    body {
      background: #fafafa;
    }
  </style>
</head>
<body>
  <div id="demo"></div>

  <script type="module">
    import { html, render } from 'lit-html';
    import {ThemeProvider, Theme, ProgressBloc, ProgressBarBuilder, I18NBlocProvider} from '../dist/index.js';
    

    //theme 
    class MyAppThemeProvider extends ThemeProvider{
      constructor(){
        super((()=>{
          let theme = new Theme();
          theme.primaryColor = "#ff2052";
          theme.secondaryColor = "#4e00ec";
          theme.backgroundColor = "#ededed";
          return theme;
        })());
      }
    }

    customElements.define("my-app-theme",MyAppThemeProvider);

    class MyI18NProvider extends I18NBlocProvider{
      constructor(){
        super({
          hello: "Hello",
          "say-thank-you":"Thank you"
        })
      }
    }

    customElements.define("i18n-provider",MyI18NProvider);
    
    //progress bar example
    class VideoCompressBloc extends ProgressBloc{
      constructor(){
        super();
        this.count = 0;
      }
      start(){
        //actual video compression logic can be started here with a service worker
        let s = 0;
        s = setInterval(()=>{
          this.updateProgress(this.count++);
          if(this.completed){
            clearInterval(s);
          }
        },100);
      }
    }

    class VideoCompressProgressBar extends ProgressBarBuilder{
      constructor(){
        super((()=>{
          let vc = new VideoCompressBloc();
          //here you can pass say file path to video file to bloc
          vc.start();
          return vc;
        })());
      }
    }

    customElements.define("video-compressor", VideoCompressProgressBar)

    render(
      html`
        <my-app-theme><!--Provides Theme to all components below-->

          <i18n-provider><!--Provides i18n features to all components below-->

            <ut-scaffold><!--Provides is a basic scaffold with menu button and menu layover-->
              <div slot="title" style="color: white;"><ut-h1>hello</ut-h1></div>
              <div slot="body">
                  <video-compressor></video-compressor>
                  <video-compressor use="primaryColor: #107fdf; backgroundColor: #df10dc"></video-compressor>
                  <div><ut-h1>say-thank-you</ut-h1></div>
                  <div><ut-h2>say-thank-you</ut-h2></div>
                  <div><ut-h3>say-thank-you</ut-h3></div>
                  <div><ut-p>say-thank-you</ut-p></div>
                  <div><ut-h5>say-thank-you</ut-h5></div>
                  <div><ut-h6>say-thank-you</ut-h6></div>
              </div>
            </ut-scaffold>

          </i18n-provider>

        </my-app-theme>
      `,
      document.querySelector('#demo')
    );
  </script>
</body>
</html>
